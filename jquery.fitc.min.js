/* FITC v1.0 */
;(function($){var methods={init:function(options){var defaults={fit:false,before:function(element){},complete:function(element){}},settings=$.extend({},defaults,options);return this.each(function(){var $container=$(this),$image=$container.find("img");if(typeof settings.before==="function")settings.before($container);$image.one("load",function(){var $this=$(this);$this.removeAttr("width height").css({"width":"","height":"","margin-left":"","margin-top":""});var width=$this.width(),height=$this.height(),containerWidth=$container.innerWidth(),containerHeight=$container.innerHeight(),ratioWidth,ratioHeight,top,left;if(settings.fit){if(width>=containerWidth&&height>=containerHeight){ratioWidth=1/(width/containerWidth);ratioHeight=1/(height/containerHeight)}else{ratioWidth=containerWidth/width;ratioHeight=containerHeight/height}if(ratioWidth<ratioHeight){width=ratioHeight*width;height=ratioHeight*height}else{width=ratioWidth*width;height=ratioWidth*height}if(width>containerWidth){left=(containerWidth-width)/2;$this.css("margin-left",left+"px")}else{top=(containerHeight-height)/2;$this.css("margin-top",top+"px")}}else{ratioWidth=containerWidth/width;ratioHeight=containerHeight/height;if(ratioWidth>ratioHeight){width=ratioHeight*width;height=ratioHeight*height}else{width=ratioWidth*width;height=ratioWidth*height}if(width<containerWidth){left=(containerWidth-width)/2;$this.css("margin-left",left+"px")}else{top=(containerHeight-height)/2;$this.css("margin-top",top+"px")}}$this.width(width);$this.height(height);if(typeof settings.complete==="function")settings.complete($container)}).each(function(){if(this.complete)$image.load()})})}};$.fn.fitc=function(method){if(methods[method])return methods[method].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof method==="object"||!method)return methods.init.apply(this,arguments);else $.error("Method "+method+" does not exist on jQuery.fitc")}})(jQuery);
